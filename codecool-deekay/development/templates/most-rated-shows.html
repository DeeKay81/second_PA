{% extends "index.html" %}
{% block title %}Shows{% endblock %}
{% block pagetitle %}Shows{% endblock %}
{% set show_table_headers = ['Title', 'Year', 'Runtime(min)', 'Rating', 'Genres', 'Trailer', 'Homepage'] %}

{% block welcome %}{% endblock %}
{% block content %}
    <div class="card">
        <p class="text-center">15 most rated shows</p>
		<table id="table-most-rated">
			<thead>
			<tr>
				{% for header in show_table_headers %}
					<th onclick="sortColumn()">{{ header }}</th>
				{% endfor %}
			</tr>
			</thead>
			<tbody>
			{% for show in shows %}
				<tr>
					<td><a href="/show/{{ show.id }}">{{ show.title }}</a></td>
					<td class="text-center">{{ show.year }}</td>
					<td class="text-center">{{ show.runtime }}</td>
                    <td class="text-center">{{ show.rating|string }}</td>
                    <td>{{ show.genres }}</td>
					{% if show.trailer != None %}
						<td class="text-center"><a href="{{ show.trailer }}">link</a></td>
					{% else %}
						<td class="text-center">No URL</td>
					{% endif %}
					{% if show.homepage != None %}
						<td class="text-center"><a href="{{ show.homepage }}">link</a></td>
					{% else %}
						<td class="text-center">No URL</td>
					{% endif %}
				</tr>
			{% endfor %}
			</tbody>
        </table>
    </div>

{% endblock %}
{% block extraCard %}
    <div class="card">
        <div class="pagination text-center">
            <a href="#" class="previous">&laquo;</a>
                {% for page in range(1, pages + 1) %}
                    <a id="{{ page }}" href="/shows/most-rated/page-{{ page }}">
                        {{ page }}
                    </a>
                {% endfor %}
            <a href="#" class="next">&raquo;</a>
        </div>
    </div>

{% endblock %}