{% extends 'layout.html' %}
{% block title %}Shows{% endblock %}
{% block head %}<h1 class="title text-center">Shows page</h1>{% endblock %}

{% block content %}
    <div class="card">
        <table id="table">
            <thead>
            <tr>
                {% set show_table_headers = ['Title', 'Year', 'Runtime(min)', 'Rating', 'Genres', 'Trailer', 'Homepage'] %}
                {% for header in show_table_headers %}
                    <th onclick="sortColumn(0)">{{ header }}</th>
                {% endfor %}
            </tr>
            </thead>
            <tbody id="table">
            {% for show in shows %}
                <tr>
                    <td><a href="/show/{{ show.id }}">{{ show.title }}</a></td>
                    <td class="text-center">{{ show.year }}</td>
                    <td class="text-center">{{ show.runtime }}</td>
                    <td class="text-center">{{ show.rating|string }}</td>
                    <td>{{ show.genres }}</td>
                    {% if show.trailer %}
                        <td class="text-center"><a href="{{ show.trailer }}">go to trailer</a></td>
                    {% else %}
                        <td class="text-center">No URL</td>
                    {% endif %}
                    {% if show.homepage %}
                        <td class="text-center"><a href="{{ show.homepage }}">got to homepage</a>
                        </td>
                    {% else %}
                        <td class="text-center">No URL</td>
                    {% endif %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="card">
        <div class="pagination text-center">
            <a {% if page_number == 1 %} href="#" {% else %} href="{{ page_number - 1 }}"
            {% endif %}>&laquo;</a>
            {% for i in range(shown_pages_start, shown_pages_end + 1) %}
                <a href="{{ i }}" {% if page_number == i %} class="active" {% endif %}>{{ i }}</a>
            {% endfor %}
            <a {% if page_number == pages_count %} href="#" {% else %} href="{{ page_number + 1 }}"
            {% endif %}>&raquo;</a>
        </div>
    </div>
{% endblock %}